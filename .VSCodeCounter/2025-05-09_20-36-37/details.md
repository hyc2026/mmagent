# Details

Date : 2025-05-09 20:36:37

Directory /Users/bytedance/Documents/code/mmagent

Total : 114 files,  216416 codes, 1472 comments, 2739 blanks, all 220627 lines

[Summary](results.md) / Details / [Diff Summary](diff.md) / [Diff Details](diff-details.md)

## Files
| filename | language | code | comment | blank | total |
| :--- | :--- | ---: | ---: | ---: | ---: |
| [README.md](/README.md) | Markdown | 62 | 0 | 21 | 83 |
| [analysis/check\_qa\_badcases.py](/analysis/check_qa_badcases.py) | Python | 83 | 2 | 19 | 104 |
| [annotation\_processing.ipynb](/annotation_processing.ipynb) | JSON | 582 | 0 | 1 | 583 |
| [baselines/baseline\_answer\_clipwise.ipynb](/baselines/baseline_answer_clipwise.ipynb) | JSON | 242 | 0 | 1 | 243 |
| [baselines/baseline\_blind.py](/baselines/baseline_blind.py) | Python | 29 | 0 | 5 | 34 |
| [configs/\_\_init\_\_.py](/configs/__init__.py) | Python | 0 | 0 | 1 | 1 |
| [configs/memory\_config.json](/configs/memory_config.json) | JSON | 6 | 0 | 0 | 6 |
| [configs/processing\_config.json](/configs/processing_config.json) | JSON | 32 | 0 | 0 | 32 |
| [data/annotations/archived/small\_test.json](/data/annotations/archived/small_test.json) | JSON | 4,630 | 0 | 0 | 4,630 |
| [data/annotations/archived/small\_test.jsonl](/data/annotations/archived/small_test.jsonl) | JSON Lines | 504 | 0 | 1 | 505 |
| [data/annotations/archived/small\_train.json](/data/annotations/archived/small_train.json) | JSON | 25,201 | 0 | 0 | 25,201 |
| [data/annotations/archived/small\_train.jsonl](/data/annotations/archived/small_train.jsonl) | JSON Lines | 2,767 | 0 | 1 | 2,768 |
| [data/annotations/raw/CZ\_1.csv](/data/annotations/raw/CZ_1.csv) | CSV | 508 | 0 | 0 | 508 |
| [data/annotations/raw/CZ\_1.json](/data/annotations/raw/CZ_1.json) | JSON | 4,337 | 0 | 0 | 4,337 |
| [data/annotations/raw/CZ\_1\_refined.json](/data/annotations/raw/CZ_1_refined.json) | JSON | 4,437 | 0 | 0 | 4,437 |
| [data/annotations/raw/CZ\_2.csv](/data/annotations/raw/CZ_2.csv) | CSV | 505 | 0 | 2 | 507 |
| [data/annotations/raw/CZ\_2.json](/data/annotations/raw/CZ_2.json) | JSON | 4,309 | 0 | 0 | 4,309 |
| [data/annotations/raw/CZ\_2\_refined.json](/data/annotations/raw/CZ_2_refined.json) | JSON | 4,409 | 0 | 0 | 4,409 |
| [data/annotations/raw/CZ\_3.csv](/data/annotations/raw/CZ_3.csv) | CSV | 513 | 0 | 0 | 513 |
| [data/annotations/raw/CZ\_3.json](/data/annotations/raw/CZ_3.json) | JSON | 4,358 | 0 | 0 | 4,358 |
| [data/annotations/raw/CZ\_3\_refined.json](/data/annotations/raw/CZ_3_refined.json) | JSON | 4,458 | 0 | 0 | 4,458 |
| [data/annotations/raw/CZ\_4.csv](/data/annotations/raw/CZ_4.csv) | CSV | 310 | 0 | 0 | 310 |
| [data/annotations/raw/CZ\_4.json](/data/annotations/raw/CZ_4.json) | JSON | 4,393 | 0 | 0 | 4,393 |
| [data/annotations/raw/CZ\_4\_refined.json](/data/annotations/raw/CZ_4_refined.json) | JSON | 4,493 | 0 | 0 | 4,493 |
| [data/annotations/raw/CZ\_5.csv](/data/annotations/raw/CZ_5.csv) | CSV | 520 | 0 | 0 | 520 |
| [data/annotations/raw/CZ\_5.json](/data/annotations/raw/CZ_5.json) | JSON | 4,421 | 0 | 0 | 4,421 |
| [data/annotations/raw/CZ\_5\_refined.json](/data/annotations/raw/CZ_5_refined.json) | JSON | 4,521 | 0 | 0 | 4,521 |
| [data/annotations/raw/ZZ\_1.csv](/data/annotations/raw/ZZ_1.csv) | CSV | 537 | 0 | 4 | 541 |
| [data/annotations/raw/ZZ\_1.json](/data/annotations/raw/ZZ_1.json) | JSON | 4,428 | 0 | 0 | 4,428 |
| [data/annotations/raw/ZZ\_1\_refined.json](/data/annotations/raw/ZZ_1_refined.json) | JSON | 4,528 | 0 | 0 | 4,528 |
| [data/annotations/raw/ZZ\_2.csv](/data/annotations/raw/ZZ_2.csv) | CSV | 538 | 0 | 0 | 538 |
| [data/annotations/raw/ZZ\_2.json](/data/annotations/raw/ZZ_2.json) | JSON | 4,540 | 0 | 0 | 4,540 |
| [data/annotations/raw/ZZ\_2\_refined.json](/data/annotations/raw/ZZ_2_refined.json) | JSON | 4,640 | 0 | 0 | 4,640 |
| [data/annotations/raw/ZZ\_3.csv](/data/annotations/raw/ZZ_3.csv) | CSV | 542 | 0 | 0 | 542 |
| [data/annotations/raw/ZZ\_3.json](/data/annotations/raw/ZZ_3.json) | JSON | 4,582 | 0 | 0 | 4,582 |
| [data/annotations/raw/ZZ\_3\_refined.json](/data/annotations/raw/ZZ_3_refined.json) | JSON | 4,682 | 0 | 0 | 4,682 |
| [data/annotations/raw/ZZ\_4.csv](/data/annotations/raw/ZZ_4.csv) | CSV | 381 | 0 | 0 | 381 |
| [data/annotations/raw/ZZ\_4.json](/data/annotations/raw/ZZ_4.json) | JSON | 4,570 | 0 | 0 | 4,570 |
| [data/annotations/raw/ZZ\_4\_refined.json](/data/annotations/raw/ZZ_4_refined.json) | JSON | 4,570 | 0 | 0 | 4,570 |
| [data/annotations/raw/ZZ\_5.csv](/data/annotations/raw/ZZ_5.csv) | CSV | 564 | 0 | 3 | 567 |
| [data/annotations/raw/ZZ\_5.json](/data/annotations/raw/ZZ_5.json) | JSON | 4,652 | 0 | 0 | 4,652 |
| [data/annotations/raw/ZZ\_5\_refined.json](/data/annotations/raw/ZZ_5_refined.json) | JSON | 4,752 | 0 | 0 | 4,752 |
| [data/annotations/raw/ZZ\_6.csv](/data/annotations/raw/ZZ_6.csv) | CSV | 549 | 0 | 1 | 550 |
| [data/annotations/raw/ZZ\_6.json](/data/annotations/raw/ZZ_6.json) | JSON | 4,526 | 0 | 0 | 4,526 |
| [data/annotations/raw/ZZ\_6\_refined.json](/data/annotations/raw/ZZ_6_refined.json) | JSON | 4,626 | 0 | 0 | 4,626 |
| [data/annotations/small\_test.json](/data/annotations/small_test.json) | JSON | 4,630 | 0 | 0 | 4,630 |
| [data/annotations/small\_test.jsonl](/data/annotations/small_test.jsonl) | JSON Lines | 504 | 0 | 1 | 505 |
| [data/annotations/small\_test\_hard.jsonl](/data/annotations/small_test_hard.jsonl) | JSON Lines | 340 | 0 | 1 | 341 |
| [data/annotations/small\_test\_qwen.jsonl](/data/annotations/small_test_qwen.jsonl) | JSON Lines | 504 | 0 | 1 | 505 |
| [data/annotations/small\_train.json](/data/annotations/small_train.json) | JSON | 26,588 | 0 | 0 | 26,588 |
| [data/annotations/small\_train.jsonl](/data/annotations/small_train.jsonl) | JSON Lines | 2,918 | 0 | 1 | 2,919 |
| [data/annotations/train\_500.json](/data/annotations/train_500.json) | JSON | 23,709 | 0 | 0 | 23,709 |
| [data/annotations/train\_500.jsonl](/data/annotations/train_500.jsonl) | JSON Lines | 2,601 | 0 | 1 | 2,602 |
| [data\_preparation/generate\_memory.py](/data_preparation/generate_memory.py) | Python | 163 | 11 | 35 | 209 |
| [data\_preparation/generate\_memory\_qwen.py](/data_preparation/generate_memory_qwen.py) | Python | 181 | 35 | 47 | 263 |
| [data\_preparation/generate\_memory\_qwen.sh](/data_preparation/generate_memory_qwen.sh) | Shell Script | 12 | 3 | 4 | 19 |
| [data\_preparation/generate\_qa.py](/data_preparation/generate_qa.py) | Python | 79 | 8 | 13 | 100 |
| [data\_preparation/prepare\_action\_gen\_sft\_data.py](/data_preparation/prepare_action_gen_sft_data.py) | Python | 54 | 8 | 12 | 74 |
| [data\_preparation/prepare\_memory\_gen\_sft\_data.py](/data_preparation/prepare_memory_gen_sft_data.py) | Python | 438 | 9 | 67 | 514 |
| [data\_preparation/preprocess\_inputs.sh](/data_preparation/preprocess_inputs.sh) | Shell Script | 9 | 1 | 2 | 12 |
| [data\_preparation/video\_preprocessing.py](/data_preparation/video_preprocessing.py) | Python | 58 | 27 | 21 | 106 |
| [demo.ipynb](/demo.ipynb) | JSON | 239 | 0 | 1 | 240 |
| [download\_videos.ipynb](/download_videos.ipynb) | JSON | 690 | 0 | 1 | 691 |
| [evaluation/agent\_mem\_gen\_evaluate.sh](/evaluation/agent_mem_gen_evaluate.sh) | Shell Script | 9 | 2 | 3 | 14 |
| [evaluation/agent\_qa\_evaluate.sh](/evaluation/agent_qa_evaluate.sh) | Shell Script | 4 | 3 | 4 | 11 |
| [evaluation/baseline\_memory\_evaluation.py](/evaluation/baseline_memory_evaluation.py) | Python | 111 | 0 | 25 | 136 |
| [evaluation/distribution\_comparison.py](/evaluation/distribution_comparison.py) | Python | 124 | 10 | 32 | 166 |
| [evaluation/mem\_gen\_sft\_evaluate.sh](/evaluation/mem_gen_sft_evaluate.sh) | Shell Script | 23 | 4 | 4 | 31 |
| [evaluation/mem\_gen\_sft\_evaluation.py](/evaluation/mem_gen_sft_evaluation.py) | Python | 155 | 6 | 36 | 197 |
| [evaluation/memory\_comparison.py](/evaluation/memory_comparison.py) | Python | 25 | 0 | 7 | 32 |
| [evaluation/memory\_evaluation.py](/evaluation/memory_evaluation.py) | Python | 151 | 0 | 32 | 183 |
| [evaluation/qa.py](/evaluation/qa.py) | Python | 210 | 38 | 27 | 275 |
| [mmagent/\_\_init\_\_.py](/mmagent/__init__.py) | Python | 47 | 3 | 5 | 55 |
| [mmagent/face\_processing.py](/mmagent/face_processing.py) | Python | 178 | 6 | 35 | 219 |
| [mmagent/idl/\_\_init\_\_.py](/mmagent/idl/__init__.py) | Python | 0 | 0 | 1 | 1 |
| [mmagent/memory\_processing.py](/mmagent/memory_processing.py) | Python | 259 | 50 | 57 | 366 |
| [mmagent/memory\_processing\_qwen.py](/mmagent/memory_processing_qwen.py) | Python | 266 | 50 | 57 | 373 |
| [mmagent/prompts.py](/mmagent/prompts.py) | Python | 863 | 6 | 310 | 1,179 |
| [mmagent/retrieve.py](/mmagent/retrieve.py) | Python | 308 | 20 | 51 | 379 |
| [mmagent/utils/\_\_init\_\_.py](/mmagent/utils/__init__.py) | Python | 21 | 0 | 2 | 23 |
| [mmagent/utils/bin.py](/mmagent/utils/bin.py) | Python | 213 | 32 | 27 | 272 |
| [mmagent/utils/chat\_api.py](/mmagent/utils/chat_api.py) | Python | 266 | 9 | 57 | 332 |
| [mmagent/utils/chat\_qwen.py](/mmagent/utils/chat_qwen.py) | Python | 175 | 6 | 29 | 210 |
| [mmagent/utils/general.py](/mmagent/utils/general.py) | Python | 228 | 48 | 61 | 337 |
| [mmagent/utils/tos.py](/mmagent/utils/tos.py) | Python | 90 | 5 | 13 | 108 |
| [mmagent/utils/video\_processing.py](/mmagent/utils/video_processing.py) | Python | 246 | 37 | 62 | 345 |
| [mmagent/utils/video\_verification.py](/mmagent/utils/video_verification.py) | Python | 69 | 0 | 16 | 85 |
| [mmagent/videograph.py](/mmagent/videograph.py) | Python | 493 | 107 | 155 | 755 |
| [mmagent/voice\_processing.py](/mmagent/voice_processing.py) | Python | 213 | 54 | 73 | 340 |
| [requirements.txt](/requirements.txt) | pip requirements | 12 | 1 | 1 | 14 |
| [result\_analysis.ipynb](/result_analysis.ipynb) | JSON | 726 | 0 | 1 | 727 |
| [setup.py](/setup.py) | Python | 28 | 1 | 5 | 34 |
| [setup.sh](/setup.sh) | Shell Script | 31 | 6 | 4 | 41 |
| [training/bootstrap.sh](/training/bootstrap.sh) | Shell Script | 35 | 1 | 7 | 43 |
| [training/configs/memory\_config.json](/training/configs/memory_config.json) | JSON | 6 | 0 | 0 | 6 |
| [training/configs/processing\_config.json](/training/configs/processing_config.json) | JSON | 26 | 0 | 0 | 26 |
| [training/deepspeed\_config/deepspeed\_zero2.yaml](/training/deepspeed_config/deepspeed_zero2.yaml) | YAML | 21 | 0 | 0 | 21 |
| [training/deepspeed\_config/deepspeed\_zero3.yaml](/training/deepspeed_config/deepspeed_zero3.yaml) | YAML | 22 | 0 | 0 | 22 |
| [training/eval\_agent.py](/training/eval_agent.py) | Python | 127 | 2 | 9 | 138 |
| [training/gpt\_eval.py](/training/gpt_eval.py) | Python | 49 | 80 | 6 | 135 |
| [training/grpo\_omni\_llm.py](/training/grpo_omni_llm.py) | Python | 254 | 15 | 10 | 279 |
| [training/grpo\_trainer.py](/training/grpo_trainer.py) | Python | 811 | 214 | 140 | 1,165 |
| [training/inference.py](/training/inference.py) | Python | 29 | 15 | 8 | 52 |
| [training/inference\_qwen3.py](/training/inference_qwen3.py) | Python | 106 | 6 | 15 | 127 |
| [training/modeling\_qwen2\_5\_omni.py](/training/modeling_qwen2_5_omni.py) | Python | 3,948 | 228 | 720 | 4,896 |
| [training/ppo\_omni\_llm.py](/training/ppo_omni_llm.py) | Python | 343 | 23 | 50 | 416 |
| [training/ppo\_omni\_llm\_bak.py](/training/ppo_omni_llm_bak.py) | Python | 323 | 18 | 42 | 383 |
| [training/ppo\_trainer.py](/training/ppo_trainer.py) | Python | 916 | 91 | 97 | 1,104 |
| [training/ppo\_trainer\_bak.py](/training/ppo_trainer_bak.py) | Python | 828 | 80 | 94 | 1,002 |
| [training/prepare\_data.py](/training/prepare_data.py) | Python | 52 | 14 | 7 | 73 |
| [training/preprocess\_video\_audio.py](/training/preprocess_video_audio.py) | Python | 226 | 8 | 27 | 261 |
| [training/setup.sh](/training/setup.sh) | Shell Script | 26 | 15 | 6 | 47 |
| [training/sft\_omni\_llm.py](/training/sft_omni_llm.py) | Python | 92 | 25 | 19 | 136 |
| [training/sft\_omni\_llm\_all.py](/training/sft_omni_llm_all.py) | Python | 78 | 29 | 22 | 129 |

[Summary](results.md) / Details / [Diff Summary](diff.md) / [Diff Details](diff-details.md)